ITVBack3
========

Разработка 2013 года, перекомпилирован в VS2015 Community в 2018.

Файловый копировальщик файлов из архива видеорегистратора ITV Intellect. Выбирает заданные в конфигурации
камеры. Можно задать с какой даты начинать копировать данные.

VideoBack
=========

Разработка 2018 года.

На базе ITVBack3 сделана клиентская версия для сервиса [videodir](https://github.com/sv99/videodir),
для удаленной выгрузки архива с видеорегистраторов без организации VPN канала,
на некоторые площадки корректно не прокинуть туннель.

Предполагается работа с видеорегистраторами ITV и Geovision. Видеорегистраторы имеют разную структуру архива.

Структура каталогов хранилища у регистраторов
=============================================

Структура каталогов ITV
-----------------------

    VIDEO
    ├── 24-01-18 01
    │   ├── 1._15
    │   ├── 1._18
    │   ├── 1._19
    │   └── A._02
    └── 24-01-18 02
        ├── 0._01
        ├── 0._02
        └── 0._04

Структура каталог VIDEO одноуровневая - папки **DD-MM-YY HH** для каждого часа
и внутри этих папок файлы видео. Номер камеры в расширении видеофайлов,
0._04 - видеофайл для 4 камеры. 

На живом сервере на 2Тб разделе почти 2000 папок и больше 700 000
файлов.
 
Запрос на получение всех файлов раздела обрабатывается по
локальной сети больше 8 мин. _Нужно обрабатывать данные по каждой
папке отдельно._

Структура каталогов Geovision
-----------------------------

    VIDEO
    ├── cam01
    │   ├── 0101
    │   │   ├── Event20180101102142001
    │   │   ├── Event20180101122042001
    │   │   ├── Event20180101182042001
    │   │   └── Event20180101222042001
    │   ├── 0102
    │   │   ├── Event20180102102142001
    │   │   ├── Event20180102122042001
    │   │   ├── Event20180102182042001
    │   │   └── Event20180102222042001
    │   ├── 1230
    │   │   ├── Event20171230102142001
    │   │   ├── Event20171230122042001
    │   │   └── Event20171230182042001
    │   └── 1231
    │       ├── Event20171231102142001
    │       ├── Event20171231122042001
    │       └── Event20171231182042001
    ├── aud01
    │   └── 0101
    │       ├── Event20180101102142001
    │       ├── Event20180101122042001
    │       ├── Event20180101182042001
    │       └── Event20180101222042001
    └── aud02
        └── 0102
            ├── Event20180101102142001
            ├── Event20180101122042001
            ├── Event20180101182042001
            └── Event20180101222042001

Структура каталога VIDEO двухуровневая сначала папки по камерам
и микрофонам и внутри них папки по месяцам и дням.
События - EventXXX непосредственно в папках для каждого дня.

Предположительно, при перекрытии года файлы попадут в ту же папку.
В имени файла присутствует полынй год - конфликта имен не будет.

TODO
----

1. progress bar

2. очистка кода

3. дополнительный worker для обработки Geovision

4. в профиле несколько вариантов